# SNMP
  
  네트워크 관리를 위한 규약
  
  SNMP가 쓰이기 전에는 ICMP에 의존했었다. (ex. ping)
  
  but, 인터넷 사용이 보편화되고 네트워크에 연결된 호스트의 수가 증가, 네트워크 구성 또한 복잡해지면서 ICMP 만으로는
  
  네트워크 관리를 효율적으로 할 수 없게 됨
  
  그래서 몇가지 프로토콜에 대한 연구가 진행되었는데, 그중 SNMP가 표준적인 프로토콜로 자리 잡음
  
  #### 현재 SNMP는 거의 대부분의 운영체제에서 사용되고 있다.
  
  
  ## 사용 용도
  
  #### 1. 네트워크 구성 관리
  
  - 네트워크 상의 호스트들이 어떠한 구조를 이루고 있는지 지도를 그릴 수 있다.
  
  #### 2. 성능 관리
  
  - 각 네트워크 세그먼트 간의 네트워크 사용량/ 에러량/ 처리속도/ 응답시간 등 성능분석에 필요한 통계정보를 얻을 수 있다.
  
  #### 3. 장비 관리
  
  - SNMP의 주 목적이 네트워크 관리이지만, 특유의 확장성으로 시스템정보(CPU/Memory/disk 사용량)을 얻을 수 있다.
  
  #### 4. 보안 관리
  
  - 정보의 제어 및 보호기능이 있다. 특히 SNMP3은 정보보호를 위한 기능이 향상되었다.
  
  
  ## MIB (Management Information Base)
  
  - SNMP에서 무엇을 관리할 것인가 결정했다면, 그 관리 객체를 효과적으로 관리하기 위해 이를 분류해야한다.
  - 이를 MIB라고 하며, 관리 되어야할 객체는 시스템 정보, 네트워크 사용량, 네트워크 인터페이스 등이있다.
  - MIB는 계층적인(디렉토리) 구조를 가지게 된다.
  
  
  ## SNMP 프로토콜의 동작
  
  #### 1. GET
  
  - manager에서 agent로 특정 정보를 요청하기 위해 사용
  
  #### 2. GET NEXT
  
  - 기본적으로 GET과 같은 일 함. MIB가 계층 구조로 되어있기 때문에,
    만약 system 계층 밑의 모든 정보를 가져오고 싶을때 사용한다.
    
  #### 3. SET
  
  - manager 에서 agent로 특정 값을 설정하기 위해 사용
  
  #### 4. TRAP
  
  - agent에서 통보해야할 어떤 정보가 발생시 manager에게 해당 상황을 알리기 위해 사용 (비동기)
  
  
  ## SNMP 메시지
  
  ```
  Version | Community name | PDU
  ```
  
  1. Version: SNMP 프로토콜의 버전 번호 (현재 3까지 있지만 2가 제일 많이 쓰임)
  
  2. Community name: 매니저와 에이전트간의 관계를 나타냄. 인증, 접근 통제 등의 목적으로 사용되며, 보통 public을 사용함. 
  
  3. PDU : 실제 전송되는 필요한 정보를 담고있는 Unit. PDU타입과 Request-id, 실제 보내고자 하는 데이터(OID)로 구성
  
  
  #### SNMP 메시지는 UDP 포트를 이용하여 전송된다.
  
  - AGENT는 162 UDP포트
  - MANAGER는 161 UDP 포트
